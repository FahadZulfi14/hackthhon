<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Blog</title>
    <link rel="stylesheet" href="dash.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
		<script>

      var selectedRow = null;


function onFormSubmit() {
    var formData = readFormData();
    if (selectedRow == null)
        insertNewRecord(formData);
    resetForm();
}

function readFormData() {
    var formData = {};
    formData["placeholder"] = document.getElementById("placeholder").value;
    formData["blogcontent"] = document.getElementById("blogcontent").value;
    return formData;
}

function insertNewRecord(data) {
    var table = document.getElementById("blod").getElementsByTagName('tbody')[0];
    if (data.placeholder && data.blogcontent) {
      var newRow = table.insertRow(table.length);
      cell1 = newRow.insertCell(0);
      cell1.className = "hello-world"
      cell1.innerHTML = data.placeholder;
      cell2 = newRow.insertCell(1);
      cell2.innerHTML = data.blogcontent;
      cell3 = newRow.insertCell(2);
      cell3.innerHTML = `<a onClick="onDelete(this)" class="btn btn-sm btn-primary">Delete</a>`
    }
}

function resetForm() {
    document.getElementById("placeholder").value = "";
    document.getElementById("blogcontent").value = "";
    selectedRow = null;
}

// The deleteRow() method removes the row at the specified index from a table. Tip: Use the insertRow() to create and insert a new row
function onDelete(td) {
    if (confirm('Are you sure to delete this record ?')) {
        row = td.parentElement.parentElement;
        document.getElementById("employeeList").deleteRow(row.rowIndex);
        resetForm();
    }
}


    </script>
    	</head>
	<body>
    <div>
      <div class="header">
        <div>Personal Bloggin App</div>
        <div class="header-action">
          <div id="ShowUser">Ghous Ahmed</div>
          <div class=" dark " id="logout" > <a href=""> Logout</a></div>
        </div>
      </div>
      <div class="dashboard">
        <h1>Dashboard</h1>
      </div>
    </div>
    
    <div class="center">
      <form onsubmit="event.preventDefault();onFormSubmit();" autocomplete="off">
        <div class="form-group">
          <label for="placeholder">Placeholder</label>
          <input type="text" class="form-control" name="placeholder" id="placeholder" aria-describedby="emailHelp" placeholder="Enter email">
        </div>
        <div class="form-group">
          <label for="blogcontent">Write here</label>
          <textarea class="form-control" id="blogcontent" name="blogcontent" rows="3"></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
    </div>

    <div id="blod">
      <table class="list" id="employeeList">

        <tbody>

        </tbody>
    </table>
    </div>


    <script type="module" src="dashboard.js"></script>
	</body>
</html>